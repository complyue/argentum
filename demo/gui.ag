using sys { Array; }
using array;
using sdl { Window; }

interface Actor {
    paint(Window dst);
    tick(int milliseconds) bool; // returns true if alive
}

class Group {
    +Array;
    +Actor{
        paint(Window dst) {
            each((i){
                i~Actor ? _.paint(dst)
            })
        }
        tick(int milliseconds) bool {
            plow((i) {
                i~Actor && _.tick(milliseconds)
            });
            size() != 0
        }
    }
}

fn getAtGroup(Group a, int i) ?Actor {
    a~Array[i] && _~Actor
}
